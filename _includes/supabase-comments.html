<!-- Supabase Comments Section -->
{% include lang.html %}

<div id="supabase-comments" data-post-slug="{{ include.slug }}">
  <h3 class="comments-title">
    {% if lang == 'en' %}Comments{% else %}댓글{% endif %}
    <span class="comments-count-badge" id="comments-count-badge"></span>
  </h3>

  <!-- Comment Form -->
  <form id="comment-form" class="comment-form">
    <div class="comment-form-row">
      <input
        type="text"
        id="comment-nickname"
        class="comment-input"
        placeholder="{% if lang == 'en' %}Nickname{% else %}닉네임{% endif %}"
        maxlength="30"
        required
      >
    </div>
    <div class="comment-form-row">
      <textarea
        id="comment-content"
        class="comment-textarea"
        placeholder="{% if lang == 'en' %}Write a comment...{% else %}댓글을 남겨주세요...{% endif %}"
        maxlength="2000"
        rows="3"
        required
      ></textarea>
    </div>
    <!-- Honeypot for spam -->
    <input type="text" name="website" class="hp-field" tabindex="-1" autocomplete="off">
    <button type="submit" class="comment-submit" id="comment-submit-btn">
      {% if lang == 'en' %}Post{% else %}등록{% endif %}
    </button>
  </form>

  <!-- Comments List -->
  <div id="comments-list" class="comments-list"></div>
</div>
